{% extends 'layout.html' %}

{% block css %}
	<link href="/stylesheets/rooms.css" rel="stylesheet">
{% endblock %}

{% block body %}
	<div id="roombrowser">
		<form method="post" id="roomform" class="form-inline" role="form">
			<div class="form-group">
		    <label class="sr-only" for="roomname">Room's name</label>
		    <input  id="roomname" name="roomname" type="text" class="form-control" placeholder="Rooom's name" required>
		  </div>
		  <div class="form-group">
		    <select id="language" name="language" class="form-control" required>
		    	<option value="en" selected>English</option>
		    	<option value="fr">Français</option>
		    	<option value="es">Español</option>
		    	<option value="de">Deutsch</option>
		    </select>
		  </div>
		  <button type="submit" class="btn btn-success">Create</button>
		</form>
		<table class="table table-striped table-scrollable">
			<thead>
				<tr>
					<th class="col-num">#</th>
					<th class="col-flag"></th>
					<th class="col-room">Room's name</th>
					<th class="col-players">Players</th>
					<th class="col-connect"></th>
				</tr>
			</thead>
			<tbody>
				{% for i, room in rooms %}
					<tr>
			      <td class="col-num">{{ i+1 }}</td>
			      <td class="{{ room.lang }} col-flag"></td>
			      <td class="col-room">{{ room.name }}</td>
			      <td class="col-players">
			      	{{ room.players.length }}/{{ room.maxplayers }}
			      </td>
			      <td class="col-connect">
			      	<button class="btn btn-sm btn-success" onclick="connect('{{ room.id }}')">connect</button>
		      	</td>
			    </tr>
				{% endfor %}
		  </tbody>
		</table>
	</div>
	<script src="/javascripts/rooms.js"></script>
{% endblock %}